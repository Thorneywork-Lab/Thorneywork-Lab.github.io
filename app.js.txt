// app.js
document.addEventListener("DOMContentLoaded", () => {
  const pages = document.querySelectorAll(".page");
  const navLinks = document.querySelectorAll("nav a");

  function showPage(hash) {
    pages.forEach(p => p.style.display = "none");
    const active = document.querySelector(hash);
    if (active) active.style.display = "block";
  }

  function updateFromHash() {
    const hash = window.location.hash || "#home";
    showPage(hash);
  }

  window.addEventListener("hashchange", updateFromHash);
  updateFromHash();

  // Auth buttons
  document.getElementById("loginBtn").addEventListener("click", () => {
    const provider = new firebase.auth.GoogleAuthProvider();
    auth.signInWithPopup(provider).catch(console.error);
  });

  document.getElementById("logoutBtn").addEventListener("click", () => {
    auth.signOut().catch(console.error);
  });

  // Google Calendar Embed
  const calendarId = "a4623564141efae6e515cab602063d535394165aee9575c947bb87d05591e25b@group.calendar.google.com";
  const calendarSrc = `https://calendar.google.com/calendar/embed?src=${encodeURIComponent(calendarId)}&ctz=UTC`;
  document.getElementById("calendarFrame").src = calendarSrc;
});
